import{J as s,M as h,L as e}from"./index-BHzCnZ6z.js";import{a as p,b as g,c as y,d as b,w as o,q as r,o as d,l as u,g as _}from"./firebaseConfig-MW9ggDGx.js";const v=s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",children:s.jsx("circle",{cx:"3",cy:"3",r:"3",fill:"#03A600"})}),x=s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3",height:"4",viewBox:"0 0 3 4",fill:"none",children:s.jsx("circle",{cx:"1.5",cy:"2",r:"1.5",fill:"#858585"})}),f=({post:a})=>s.jsx(h,{to:"/bai-viet/chi-tiet",children:s.jsxs(e,{align:"center",className:"card-post card-post--small",children:[s.jsx("div",{className:"card-post--small__image-container",children:s.jsx("img",{className:"card-post--small__image",loading:"lazy",src:a.image,alt:"Item"})}),s.jsxs(e,{className:"card-post--small__body",gap:"small",justify:"center",vertical:!0,children:[s.jsx("div",{className:"card-post--small__title",children:a.title}),s.jsxs(e,{gap:"small",justify:"start",align:"center",className:"card-post--small__meta",children:[s.jsxs("div",{children:[p(a.views)," views"]}),x,s.jsx("div",{children:g(a.publishedAt)})]})]})]})}),A=({post:a})=>s.jsx(h,{to:"/bai-viet/chi-tiet",style:{zIndex:2},children:s.jsxs("div",{className:"card-post card-post--medium",children:[s.jsxs("div",{className:"card-post--medium__image-container",children:[s.jsx("img",{className:"card-post--medium__image",alt:"Card Item",loading:"lazy",src:a.image}),s.jsx("div",{className:"card-post--medium__image-overlay",children:"Click để xem"})]}),s.jsxs(e,{vertical:!0,gap:"small",className:"card-post--medium__body",children:[s.jsxs(e,{align:"center",gap:"small",children:[s.jsx("div",{className:"card-post--medium__author",children:a.author}),v]}),s.jsx("h4",{className:"card-post--medium__title",children:a.title}),s.jsx(e,{align:"center",className:"card-post--medium__topics",children:a.topics.map((i,t)=>s.jsx("span",{children:i},`card-post-medium-${a.id}-${t}`))}),s.jsxs(e,{align:"center",gap:"small",className:"card-post--medium__meta",children:[s.jsxs("div",{children:[p(a.views)," lượt xem"]}),x,s.jsx("div",{children:g(a.publishedAt)})]})]})]})}),C=({post:a})=>s.jsx(h,{to:"/bai-viet/chi-tiet",children:s.jsxs("div",{className:"card-post card-post--large",children:[s.jsxs("div",{className:"card-post--large__image-container",children:[s.jsx("img",{className:"card-post--large__image",alt:"Card Item",loading:"lazy",src:a.image}),s.jsx("div",{className:"card-post--large__image-overlay",children:"Click để xem"})]}),s.jsxs("div",{className:"card-post--large__body",children:[s.jsxs(e,{vertical:!0,className:"text-start",gap:"small",children:[s.jsxs(e,{align:"center",gap:"small",className:"card-post--large__author",children:[a.author,v]}),s.jsx("div",{className:"card-post--large__title",children:a.title}),s.jsx("div",{className:"card-post--large__desc",children:a.description})]}),s.jsxs(e,{vertical:!0,gap:"small",children:[s.jsx(e,{className:"card-post--large__topics",children:a.topics.map((i,t)=>s.jsx("span",{children:i},"topic-large-"+a.id+"-"+t))}),s.jsxs(e,{gap:"small",align:"center",className:"card-post--large__meta",children:[s.jsxs("span",{children:[p(a.views)," lượt xem"]}),x,s.jsx("span",{children:g(a.publishedAt)})]})]})]})]})}),q=a=>a.size==="small"?s.jsx(f,{post:a.post}):a.size==="medium"?s.jsx(A,{post:a.post}):s.jsx(C,{post:a.post}),n=y(b,"posts"),B=async(a,i,t,c)=>{const l=[];a.length>0&&l.push(o("topics","array-contains-any",a)),i&&l.push(o("publishedAt",">=",i)),t&&l.push(o("publishedAt","<=",t));const m=c?r(n,...l,d("title","asc"),u(c)):r(n,...l,d("title","asc"));return(await _(m)).docs.map(j=>{const{publishedAt:N,...w}=j.data();return{id:j.id,publishedAt:N.toDate(),...w}})},I=async a=>{let i=r(n,d("publishedAt","asc"));return i=r(n,d("publishedAt","desc"),u(a)),(await _(i)).docs.map(c=>{const{publishedAt:l,...m}=c.data();return{id:c.id,publishedAt:l.toDate(),...m}})};export{q as C,I as a,B as g};
